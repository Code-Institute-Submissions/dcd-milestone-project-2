{% extends 'base.html'%} {% block content %}
<div class="container">
    <div class=" mb-3 row">
        <h3 class="mt-3 mb-3">Add Recipe</h3>
    </div>
    <div class="row">
        <form action="{{ url_for('insert_recipe') }}" method="POST" class="col-12">
            <!-- row for title and cuisine type -->
            <div class="row border p-2 mb-2">
                <div class="col-8">
                    <input class="col-9" id="recipe_title" name="recipe_title" type="text" required>
                    <label for="icon_prefix">Recipe Name</label>
                </div>
                <div class="col-4">
                    <select id="cuisine" name="cuisine_type" required>
                        <option value="" disabled selected>Choose Cuisine</option>
                        {% for cuis in cuisine %}
                        <option value="{{cuis.cuisine_type}}">{{cuis.cuisine_type.capitalize()}}</option>
                        {% endfor %}
                    </select>
                    <label>Cuisine Origin</label>
                </div>
                <div class="col-8">
                    <input class="col-6" id="cook_time" name="cook_time" type="text" required>
                    <label for="icon_prefix">Cooking Time</label>
                </div>
            </div>
            <!-- main container for ingredients and method lists -->
            <div class="row border">
                <!-- ingredients list -->
                <div class="col-12" id="ingredient_outer">
                    <label class="mt-3">Ingredients</label>
                    <div class="input-field">
                        <input class="col-11 mb-1" id="ingredient_field" name="ingredient" type="text">
                        <button onclick="createIngredient()">Add Ingredient</button>
                    </div>
                </div>
                <!-- method list -->
                <div class="col-12" id="method_outer">
                    <label class="mt-3">Method</label>
                    <div class="input-field">
                        <textarea class="col-11" id="method_field" name="method" rows="3" cols="100%"></textarea>
                    </div>
                </div>
            </div>
            <!-- vegan / vegetarian switches -->
            <div class="row">
                <div class="switch mr-3">
                    <label>
                        <input id="is_vegetarian" name="is_vegetarian" type="checkbox">
                        <span class="lever"></span>
                        Vegetarian
                    </label>
                </div>
                <div class="switch">
                    <label>
                        <input id="is_vegan" name="is_vegan" type="checkbox">
                        <span class="lever"></span>
                        Vegan
                    </label>
                </div>
            </div>
            <div class="row">
                <button class="btn waves-effect waves-light" type="submit" name="action">Add Recipe
             </button>
            </div>
        </form>
    </div>
</div>

<script>
    function createIngredient() {
        var ingredientInput = document.getElementById('ingredient_field').value;
        var para = document.createElement("p");
        para.setAttribute('name', 'ingredient');
        para.innerHTML = ingredientInput;
        var element = document.getElementById("ingredient_outer");
        element.appendChild(para);
    }
    
    function createMethod() {
        var ingredientInput = document.getElementById('method_field').value;
        var para = document.createElement("p");
        para.setAttribute('name', 'method');
        para.innerHTML = ingredientInput;
        var element = document.getElementById("method_outer");
        element.appendChild(para);
    }
</script>
{% endblock %}
